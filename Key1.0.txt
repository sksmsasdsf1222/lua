-- 로블록스 서비스 가져오기
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- GUI 생성 함수
local function createGui()
    -- ScreenGui 생성
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "HighQualityGui"
    screenGui.Parent = playerGui

    -- 이미지 프레임 생성
    local imageFrame = Instance.new("Frame")
    imageFrame.Size = UDim2.new(0.35, 0, 0.35, 0)
    imageFrame.Position = UDim2.new(0.5, -175, 0.5, -105)
    imageFrame.BackgroundTransparency = 1
    imageFrame.Parent = screenGui

    -- 이미지 추가
    local imageLabel = Instance.new("ImageLabel")
    imageLabel.Size = UDim2.new(1, 0, 1, 0)
    imageLabel.BackgroundTransparency = 1
    imageLabel.Image = "https://cdn.discordapp.com/attachments/1252398143740579965/1277120429789806624/20240719_213236_0000-2.png?ex=66cc0296&is=66cab116&hm=38df91eacf4c7ee5baa2d19a04aa8237089ae0a5097654c7d53804a9acb2f1f0&"
    imageLabel.Parent = imageFrame

    -- 이미지 사라지기 애니메이션
    local tweenService = game:GetService("TweenService")
    local tweenInfo = TweenInfo.new(2, Enum.EasingStyle.Linear)
    local goal = { ImageTransparency = 1, BackgroundTransparency = 1 }

    local tween = tweenService:Create(imageFrame, tweenInfo, goal)

    -- 2초 후에 애니메이션 시작
    wait(2)
    tween:Play()
    tween.Completed:Connect(function()
        -- 키 입력 창 생성
        local mainFrame = Instance.new("Frame")
        mainFrame.Size = UDim2.new(0.5, 0, 0.3, 0)
        mainFrame.Position = UDim2.new(0.5, -250, 0.5, -150)
        mainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
        mainFrame.BorderSizePixel = 0
        mainFrame.Parent = screenGui

        local corner = Instance.new("UICorner")
        corner.CornerRadius = UDim.new(0, 10)
        corner.Parent = mainFrame

        -- 제목 표시
        local titleLabel = Instance.new("TextLabel")
        titleLabel.Size = UDim2.new(1, -40, 0, 40)
        titleLabel.Position = UDim2.new(0, 20, 0, 10)
        titleLabel.BackgroundTransparency = 1
        titleLabel.Text = "키 입력 요청"
        titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        titleLabel.Font = Enum.Font.SourceSansBold
        titleLabel.TextSize = 24
        titleLabel.TextXAlignment = Enum.TextXAlignment.Left
        titleLabel.Parent = mainFrame

        -- 닫기 버튼 생성
        local closeButton = Instance.new("TextButton")
        closeButton.Size = UDim2.new(0, 30, 0, 30)
        closeButton.Position = UDim2.new(1, -40, 0, 10)
        closeButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
        closeButton.Text = "X"
        closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        closeButton.Font = Enum.Font.SourceSansBold
        closeButton.TextSize = 18
        closeButton.Parent = mainFrame

        local cornerButton = Instance.new("UICorner")
        cornerButton.CornerRadius = UDim.new(0, 8)
        cornerButton.Parent = closeButton

        -- 닫기 버튼 클릭 시 GUI 숨기기
        closeButton.MouseButton1Click:Connect(function()
            screenGui:Destroy()
        end)

        -- 키 입력 요청 텍스트 박스 생성
        local inputPrompt = Instance.new("TextBox")
        inputPrompt.Size = UDim2.new(0.8, 0, 0, 50)
        inputPrompt.Position = UDim2.new(0.1, 0, 0.3, 0)
        inputPrompt.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        inputPrompt.TextColor3 = Color3.fromRGB(0, 0, 0)
        inputPrompt.Font = Enum.Font.SourceSans
        inputPrompt.TextSize = 20
        inputPrompt.PlaceholderText = "키를 입력하세요..."
        inputPrompt.Parent = mainFrame

        -- 입력된 키를 처리하는 함수
        inputPrompt.FocusLost:Connect(function(enterPressed)
            if enterPressed then
                print("입력된 키: " .. inputPrompt.Text)
            end
        end)
    end)
end

-- GUI 생성 함수 호출
createGui()